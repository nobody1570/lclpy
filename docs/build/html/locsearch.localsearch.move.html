
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>locsearch.localsearch.move package &#8212; locsearch  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="locsearch.localsearch.simulatedannealing package" href="locsearch.localsearch.simulatedannealing.html" />
    <link rel="prev" title="locsearch.localsearch.acceptance package" href="locsearch.localsearch.acceptance.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="locsearch-localsearch-move-package">
<h1>locsearch.localsearch.move package<a class="headerlink" href="#locsearch-localsearch-move-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-locsearch.localsearch.move.abstract_move">
<span id="locsearch-localsearch-move-abstract-move-module"></span><h2>locsearch.localsearch.move.abstract_move module<a class="headerlink" href="#module-locsearch.localsearch.move.abstract_move" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="locsearch.localsearch.move.abstract_move.AbstractMove">
<em class="property">class </em><code class="descclassname">locsearch.localsearch.move.abstract_move.</code><code class="descname">AbstractMove</code><a class="headerlink" href="#locsearch.localsearch.move.abstract_move.AbstractMove" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Template to create Move-objects.</p>
<p>This object is used to explore a neighbourhood and alter the state of a
solution.</p>
<dl class="method">
<dt id="locsearch.localsearch.move.abstract_move.AbstractMove.get_moves">
<code class="descname">get_moves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.abstract_move.AbstractMove.get_moves" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator used to return all valid moves in the neighbourhood.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>tuple of int</em> – The next valid move.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.abstract_move.AbstractMove.get_random_move">
<code class="descname">get_random_move</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.abstract_move.AbstractMove.get_random_move" title="Permalink to this definition">¶</a></dt>
<dd><p>A method used to generate a random move in the neighbourhood..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random valid move.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple of int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.abstract_move.AbstractMove.move">
<code class="descname">move</code><span class="sig-paren">(</span><em>data</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.abstract_move.AbstractMove.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a move.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – The dataset that is being explored. It will be altered after the
method call.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – A representation of a valid move.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.abstract_move.AbstractMove.undo_move">
<code class="descname">undo_move</code><span class="sig-paren">(</span><em>data</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.abstract_move.AbstractMove.undo_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Undoes a move.</p>
<p>Make sure you only undo a move after it’s has been performed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – The dataset that is being explored. It will be altered after the
method call.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – A representation of the move one wishes to undo</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-locsearch.localsearch.move.array_reverse_order">
<span id="locsearch-localsearch-move-array-reverse-order-module"></span><h2>locsearch.localsearch.move.array_reverse_order module<a class="headerlink" href="#module-locsearch.localsearch.move.array_reverse_order" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder">
<em class="property">class </em><code class="descclassname">locsearch.localsearch.move.array_reverse_order.</code><code class="descname">ArrayReverseOrder</code><span class="sig-paren">(</span><em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#locsearch.localsearch.move.abstract_move.AbstractMove" title="locsearch.localsearch.move.abstract_move.AbstractMove"><code class="xref py py-class docutils literal notranslate"><span class="pre">locsearch.localsearch.move.abstract_move.AbstractMove</span></code></a></p>
<p>Implements a reverse order move function for 1 dimensional numpy arrays.</p>
<p>The move function performs and generates moves that reverses the order of
values in an interval of a one-dimensional array. Note that a move is
represented as a tuple of int. The move (x, y) represents reversing of the
order of the values in the interval of indices [x, y] of the array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<em>int</em>) – The size of the numpy array that will be altered.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder._size">
<code class="descname">_size</code><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder._size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the numpy array that is altered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Examples</p>
<p>Get all possible moves, you should NEVER do this. You should evaluate only
one move at a time. This example is simply to show the behaviour of
get_moves and how to perform and undo a move:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArrayReverseOrder</span>
<span class="gp">... </span><span class="c1"># init array, a move will be performed on this array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">ArrayReverseOrder</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">))</span>
<span class="gp">... </span><span class="c1"># get all possible moves in all_moves</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">reverse</span><span class="o">.</span><span class="n">get_moves</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">all_moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span>
<span class="go">[(0, 1), (0, 2), (0, 3), (0, 4), (1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># picking an arbitrary move</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Never pick a move like this yourself. It only is done here for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the sake of showing you a clear example.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span> <span class="o">=</span> <span class="n">all_moves</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span>
<span class="go">(0, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># performing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([3, 2, 1, 0, 4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># undoing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span><span class="o">.</span><span class="n">undo_move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([0, 1, 2, 3, 4])</span>
</pre></div>
</div>
<p>An example of generating some random moves with get_random_move:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>   <span class="kn">import</span> <span class="n">ArrayReverseOrder</span>
<span class="gp">... </span><span class="c1"># set seed random</span>
<span class="gp">... </span><span class="c1"># not needed, is only used here to always get the same moves.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">ArrayReverseOrder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(0, 6)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(4, 8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(6, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(4, 7)</span>
</pre></div>
</div>
<dl class="method">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.changed_distances">
<code class="descname">changed_distances</code><span class="sig-paren">(</span><em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.changed_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Aid function for delta evaluation.</p>
<p>This function returns the pairs who would have an altered evaluation
value due to the move.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>move</strong> (<em>tuple of int</em>) – A tuple of 2 ints that represents a single valid move.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">this set contains a tuple with every (from,to) pair that would have
an altered evaluation value due to the move.
A pair (x, y) and a pair (y, x) are assumed to have different
evaluatio0n values.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">set of tuple</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Some simple examples to demonstrate the behaviour:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArrayReverseOrder</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">ArrayReverseOrder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">... </span><span class="c1"># since the order of the items in a set might be different,</span>
<span class="gp">... </span><span class="c1"># they are compared to an equivalent set.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">reverse</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">)}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">reverse</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
<span class="gp">... </span>            <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">reverse</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">reverse</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>            <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.get_moves">
<code class="descname">get_moves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.get_moves" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all valid moves.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>tuple of int</em> – The next valid move.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.get_random_move">
<code class="descname">get_random_move</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.get_random_move" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to generate one random move.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random valid move.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple of int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.move">
<code class="descname">move</code><span class="sig-paren">(</span><em>array</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the move asked.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>array</strong> (<em>numpy.ndarray</em>) – The array where items will be swapped.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – Represents 1 unique move. Valid moves can be retrieved by using
get_random_move and get_move.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.transform_next_index_to_current_index">
<em class="property">static </em><code class="descname">transform_next_index_to_current_index</code><span class="sig-paren">(</span><em>frm</em>, <em>to</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.transform_next_index_to_current_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms frm and to depending on a move</p>
<p>This function transforms the indices frm and to so that they can
be used as indices in the unaltered array, yet return the value
they would have had if the move was actually performed and they
were used as indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>frm</strong> (<em>int</em>) – the from index that one wants to use in the array with if the
move was performed.</li>
<li><strong>to</strong> (<em>int</em>) – the to index that one wants to use in the array with if the
move was performed.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – A tuple with that represents a single, unique move.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>frm</strong> (<em>int</em>) – The index in the unaltered array that has the same value as the
parameter frm in an array where the move was performed.</li>
<li><strong>to</strong> (<em>int</em>) – The index in the unaltered array that has the same value as the
parameter to in an array where the move was performed.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Some simple examples, the move remains the same, but the indices
change:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArrayReverseOrder</span> <span class="k">as</span> <span class="n">ARO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ARO</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="go">(0, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ARO</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="go">(0, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ARO</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="go">(7, 6)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ARO</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="go">(8, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ARO</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="go">(4, 10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.undo_move">
<code class="descname">undo_move</code><span class="sig-paren">(</span><em>array</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_reverse_order.ArrayReverseOrder.undo_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Undoes the move asked.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>array</strong> (<em>numpy.ndarray</em>) – The array where items will be swapped.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – Represents 1 unique move. Valid moves can be retrieved by using
get_random_move and get_move.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-locsearch.localsearch.move.array_swap">
<span id="locsearch-localsearch-move-array-swap-module"></span><h2>locsearch.localsearch.move.array_swap module<a class="headerlink" href="#module-locsearch.localsearch.move.array_swap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap">
<em class="property">class </em><code class="descclassname">locsearch.localsearch.move.array_swap.</code><code class="descname">ArraySwap</code><span class="sig-paren">(</span><em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#locsearch.localsearch.move.abstract_move.AbstractMove" title="locsearch.localsearch.move.abstract_move.AbstractMove"><code class="xref py py-class docutils literal notranslate"><span class="pre">locsearch.localsearch.move.abstract_move.AbstractMove</span></code></a></p>
<p>Implements a swap move function for 1 dimensional numpy arrays.</p>
<p>The move function performs and generates moves that swap 2 values in a
one-dimensional array. Note that a move is represented as a tuple of int.
The move (x, y) represents the swap of the values from the indices x and y
of the array. Equivalent to 2-opt when the array is used to keep the
visiting order of the items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<em>int</em>) – The size of the numpy array that will be altered.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap._size">
<code class="descname">_size</code><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap._size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the numpy array that is altered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Examples</p>
<p>Get all possible moves, you should NEVER do this. You should evaluate only
one move at a time. This example is simply to show the behaviour of
get_moves and how to perform and undo a move:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> <span class="kn">import</span> <span class="n">ArraySwap</span>
<span class="gp">... </span><span class="c1"># init array, a move will be performed on this array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">ArraySwap</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">))</span>
<span class="gp">... </span><span class="c1"># get all possible moves in all_moves</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">swap</span><span class="o">.</span><span class="n">get_moves</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">all_moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span>
<span class="go">[(0, 1), (0, 2), (0, 3), (0, 4), (1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># picking an arbitrary move</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Never pick a move like this yourself. It only is done here for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the sake of showing you a clear example.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span> <span class="o">=</span> <span class="n">all_moves</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span>
<span class="go">(1, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># performing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([0, 3, 2, 1, 4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># undoing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">undo_move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([0, 1, 2, 3, 4])</span>
</pre></div>
</div>
<p>An example of generating some random moves with get_random_move:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> <span class="kn">import</span> <span class="n">ArraySwap</span>
<span class="gp">... </span><span class="c1"># set seed random</span>
<span class="gp">... </span><span class="c1"># not needed, is only used here to always get the same moves.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">ArraySwap</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(0, 6)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(4, 8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(6, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(4, 7)</span>
</pre></div>
</div>
<dl class="method">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap.changed_distances">
<code class="descname">changed_distances</code><span class="sig-paren">(</span><em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap.changed_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Aid function for delta evaluation.</p>
<p>This function returns the pairs who would have an altered evaluation
value due to the move.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>move</strong> (<em>tuple of int</em>) – A tuple of 2 ints that represents a single unique move</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">this set contains a tuple with every (from,to) pair that would have
an altered evaluation value due to the move.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">set of tuple</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Some simple examples to demonstrate the behaviour:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> <span class="kn">import</span> <span class="n">ArraySwap</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">ArraySwap</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">... </span><span class="c1"># since the order of the items in a set might be different,</span>
<span class="gp">... </span><span class="c1"># they are compared to an equivalent set.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">swap</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">)}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">swap</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">swap</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">)}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">=</span> <span class="n">swap</span><span class="o">.</span><span class="n">changed_distances</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">changed</span> <span class="o">==</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap.get_moves">
<code class="descname">get_moves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap.get_moves" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all valid moves.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>tuple of int</em> – The next valid move.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap.get_random_move">
<code class="descname">get_random_move</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap.get_random_move" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to generate one random move.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random valid move.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple of int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap.move">
<code class="descname">move</code><span class="sig-paren">(</span><em>array</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the move asked.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>array</strong> (<em>numpy.ndarray</em>) – The array where items will be swapped.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – Represents 1 unique move. Valid moves can be retrieved by using
get_random_move and get_move.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap.transform_next_index_to_current_index">
<em class="property">static </em><code class="descname">transform_next_index_to_current_index</code><span class="sig-paren">(</span><em>frm</em>, <em>to</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap.transform_next_index_to_current_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms frm and to depending on a move</p>
<p>This function transforms the indices frm and to so that they can
be used as indices in the unaltered array, yet return the value
they would have had if the move was actually performed and they
were used as indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>frm</strong> (<em>int</em>) – the from index that one wants to use in the array with if the
move was performed.</li>
<li><strong>to</strong> (<em>int</em>) – the to index that one wants to use in the array with if the
move was performed.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – A tuple with that represents a single, unique move.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>frm</strong> (<em>int</em>) – The index in the unaltered array that has the same value as the
parameter frm in an array where the move was performed.</li>
<li><strong>to</strong> (<em>int</em>) – The index in the unaltered array that has the same value as the
parameter to in an array where the move was performed.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Some simple examples, the indices remain the same, but the move
changes:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArraySwap</span> <span class="k">as</span> <span class="n">AS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AS</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">(5, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AS</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">(3, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AS</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">(1, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AS</span><span class="o">.</span><span class="n">transform_next_index_to_current_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">(1, 5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.array_swap.ArraySwap.undo_move">
<code class="descname">undo_move</code><span class="sig-paren">(</span><em>array</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.array_swap.ArraySwap.undo_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Undoes the move asked.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>array</strong> (<em>numpy.ndarray</em>) – The array where items will be swapped.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – Represents 1 unique move. Valid moves can be retrieved by using
get_random_move and get_move.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-locsearch.localsearch.move.multi_neighbourhood">
<span id="locsearch-localsearch-move-multi-neighbourhood-module"></span><h2>locsearch.localsearch.move.multi_neighbourhood module<a class="headerlink" href="#module-locsearch.localsearch.move.multi_neighbourhood" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood">
<em class="property">class </em><code class="descclassname">locsearch.localsearch.move.multi_neighbourhood.</code><code class="descname">MultiNeighbourhood</code><span class="sig-paren">(</span><em>move_func_list</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#locsearch.localsearch.move.abstract_move.AbstractMove" title="locsearch.localsearch.move.abstract_move.AbstractMove"><code class="xref py py-class docutils literal notranslate"><span class="pre">locsearch.localsearch.move.abstract_move.AbstractMove</span></code></a></p>
<p>Implements a class that can be used to combine different move functions.</p>
<p>Moves are represeted in the following way:
(index move function, a representation of a move from said move function).
Note that all move functions must work on a single type of data structure.
Combining move functions meant for different data structures won’t work
well.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>move_func_list</strong> (<em>list of AbstractMove</em>) – A list that contains the move functions one wishes to combine.</li>
<li><strong>weights</strong> (<em>list of int</em><em>, </em><em>optional</em>) – A list that contains weights to increase or decrease the chance of a
move function being used to generate a random move. The weight for a
function must have the same index as the function. Weights are positive
numbers and need to be defined for every move function.
In the default case, every function will have the same weight.
Note that it’s perfectly possible to pass the probabilities instead of
the weights.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood._move_func_list">
<code class="descname">_move_func_list</code><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood._move_func_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains all used move functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list of AbstractMove</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood._size">
<code class="descname">_size</code><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood._size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of _move_func_list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood._tresholds">
<code class="descname">_tresholds</code><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood._tresholds" title="Permalink to this definition">¶</a></dt>
<dd><p>Tresholds associated with the move functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list of float</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Examples</p>
<p>Get all possible moves, you should NEVER do this. You should evaluate only
one move at a time. This example is simply to show the behaviour of
get_moves and how to perform and undo a move:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> <span class="kn">import</span> <span class="n">ArraySwap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArrayReverseOrder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.multi_neighbourhood</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">MultiNeighbourhood</span>
<span class="gp">... </span><span class="c1"># init array, a move will be performed on this array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">ArraySwap</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">ArrayReverseOrder</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_func_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">swap</span><span class="p">,</span> <span class="n">reverse</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span> <span class="o">=</span> <span class="n">MultiNeighbourhood</span><span class="p">(</span><span class="n">move_func_list</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># get all possible moves in all_moves</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">multi</span><span class="o">.</span><span class="n">get_moves</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">all_moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span>
<span class="go">[(0, (0, 1)), (0, (0, 2)), (0, (1, 2)), (1, (0, 1)), (1, (0, 2)), (1, (1, 2))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># picking an arbitrary move</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Never pick a move like this yourself. It only is done here for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the sake of showing you a clear example.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span> <span class="o">=</span> <span class="n">all_moves</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span>
<span class="go">(0, (1, 2))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># performing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([0, 2, 1])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># undoing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">undo_move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([0, 1, 2])</span>
</pre></div>
</div>
<p>An example of generating some random moves with get_random_move with
default weights (every move function has the same chance of being chosen):</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> <span class="kn">import</span> <span class="n">ArraySwap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArrayReverseOrder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.multi_neighbourhood</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">MultiNeighbourhood</span>
<span class="gp">... </span><span class="c1"># set seed random</span>
<span class="gp">... </span><span class="c1"># not needed, is only used here to always get the same moves.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">ArraySwap</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">ArrayReverseOrder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_func_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">swap</span><span class="p">,</span> <span class="n">reverse</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span> <span class="o">=</span> <span class="n">MultiNeighbourhood</span><span class="p">(</span><span class="n">move_func_list</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (0, 6))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(0, (7, 8))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(0, (4, 7))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(0, (3, 8))</span>
</pre></div>
</div>
<p>An example of generating some random moves with get_random_move with
defined weights (swap 1, reverse 3):</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> <span class="kn">import</span> <span class="n">ArraySwap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArrayReverseOrder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.multi_neighbourhood</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">MultiNeighbourhood</span>
<span class="gp">... </span><span class="c1"># set seed random</span>
<span class="gp">... </span><span class="c1"># not needed, is only used here to always get the same moves.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">ArraySwap</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">ArrayReverseOrder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_func_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">swap</span><span class="p">,</span> <span class="n">reverse</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span> <span class="o">=</span> <span class="n">MultiNeighbourhood</span><span class="p">(</span><span class="n">move_func_list</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (0, 6))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (7, 8))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (4, 7))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (3, 8))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(0, (1, 2))</span>
</pre></div>
</div>
<p>An example of generating some random moves with get_random_move with
defined probabilities (swap 0.25, reverse 0.75). Note that the results are
exactly the same as the results of the previous doctest:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_swap</span> <span class="kn">import</span> <span class="n">ArraySwap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.array_reverse_order</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">ArrayReverseOrder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.multi_neighbourhood</span> \
<span class="gp">... </span>    <span class="kn">import</span> <span class="n">MultiNeighbourhood</span>
<span class="gp">... </span><span class="c1"># set seed random</span>
<span class="gp">... </span><span class="c1"># not needed, is only used here to always get the same moves.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">ArraySwap</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">ArrayReverseOrder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_func_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">swap</span><span class="p">,</span> <span class="n">reverse</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span> <span class="o">=</span> <span class="n">MultiNeighbourhood</span><span class="p">(</span><span class="n">move_func_list</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (0, 6))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (7, 8))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (4, 7))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, (3, 8))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(0, (1, 2))</span>
</pre></div>
</div>
<dl class="method">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.get_moves">
<code class="descname">get_moves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.get_moves" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator used to return all valid moves in the neighbourhood.</p>
<p>Note that all moves of all neighbourhoods are included. Duplicate moves
are possible. All moves are generated for one neighbourhood, after
which they will all be generated for next neighbourhood until no
remain. The neighbourhoods will be visited in the order their
move functions had in move_func_list when it was passed to the
constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>tuple of int</em> – The next valid move.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.get_random_move">
<code class="descname">get_random_move</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.get_random_move" title="Permalink to this definition">¶</a></dt>
<dd><p>A method used to generate a random move in the neighbourhood.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random valid move.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple of int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.move">
<code class="descname">move</code><span class="sig-paren">(</span><em>data</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a move.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – The dataset that is being explored. It will be altered after the
method call.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – A representation of a valid move.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.undo_move">
<code class="descname">undo_move</code><span class="sig-paren">(</span><em>data</em>, <em>move</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.multi_neighbourhood.MultiNeighbourhood.undo_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Undoes a move.</p>
<p>Make sure you only undo a move after it’s has been performed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – The dataset that is being explored. It will be altered after the
method call.</li>
<li><strong>move</strong> (<em>tuple of int</em>) – A representation of the move one wishes to undo</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-locsearch.localsearch.move.tsp_array_swap">
<span id="locsearch-localsearch-move-tsp-array-swap-module"></span><h2>locsearch.localsearch.move.tsp_array_swap module<a class="headerlink" href="#module-locsearch.localsearch.move.tsp_array_swap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="locsearch.localsearch.move.tsp_array_swap.TspArraySwap">
<em class="property">class </em><code class="descclassname">locsearch.localsearch.move.tsp_array_swap.</code><code class="descname">TspArraySwap</code><span class="sig-paren">(</span><em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.tsp_array_swap.TspArraySwap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#locsearch.localsearch.move.array_swap.ArraySwap" title="locsearch.localsearch.move.array_swap.ArraySwap"><code class="xref py py-class docutils literal notranslate"><span class="pre">locsearch.localsearch.move.array_swap.ArraySwap</span></code></a></p>
<p>Implements a swap move for 1 dimensional numpy arrays for tsp problems.</p>
<p>In TSP problems swapping the first location for another is pointless. This
class does not generate swaps with the first location from the
neighbourhood. In all other respects this class is identical to it’s base
class Arrayswap.</p>
<p>The move function performs and generates moves that swap 2 values in a
one-dimensional array. Note that a move is represented as a tuple of int.
The move (x, y) represents the swap of the values from the indices x and y
of the array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> (<em>int</em>) – The size of the numpy array that will be altered.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="locsearch.localsearch.move.tsp_array_swap.TspArraySwap._size">
<code class="descname">_size</code><a class="headerlink" href="#locsearch.localsearch.move.tsp_array_swap.TspArraySwap._size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the numpy array that is altered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Examples</p>
<p>Get all possible moves, you should NEVER do this. You should evaluate only
one move at a time. This example is simply to show the behaviour of
get_moves and how to perform and undo a move:</p>
<p>..doctest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.tsp_array_swap</span> <span class="k">import</span> <span class="n">TspArraySwap</span>
<span class="gp">... </span><span class="c1"># init array, a move will be performed on this array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">TspArraySwap</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">))</span>
<span class="gp">... </span><span class="c1"># get all possible moves in all_moves</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">swap</span><span class="o">.</span><span class="n">get_moves</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">all_moves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_moves</span>
<span class="go">[(1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># picking an arbitrary move</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Never pick a move like this yourself. It only is done here for</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the sake of showing you a clear example.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span> <span class="o">=</span> <span class="n">all_moves</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_move</span>
<span class="go">(1, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># performing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([0, 3, 2, 1, 4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># undoing the move on the array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">undo_move</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">a_move</span><span class="p">)</span> <span class="c1"># undoes the move</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([0, 1, 2, 3, 4])</span>
</pre></div>
</div>
<p>An example of generating some random moves with get_random_move:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">locsearch.localsearch.move.tsp_array_swap</span> <span class="kn">import</span> <span class="n">TspArraySwap</span>
<span class="gp">... </span><span class="c1"># set seed random</span>
<span class="gp">... </span><span class="c1"># not needed, is only used here to always get the same moves.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span> <span class="o">=</span> <span class="n">TspArraySwap</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># tests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(1, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(5, 9)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(7, 8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">swap</span><span class="o">.</span><span class="n">get_random_move</span><span class="p">()</span>
<span class="go">(5, 8)</span>
</pre></div>
</div>
<dl class="method">
<dt id="locsearch.localsearch.move.tsp_array_swap.TspArraySwap.get_moves">
<code class="descname">get_moves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.tsp_array_swap.TspArraySwap.get_moves" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a generator used to return all valid moves.</p>
<p>Note that the swaps with the first position aren’t included. When
solving TSP problems, the start position doesn’t matter, after all.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><em>tuple of int</em> – The next valid move.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="locsearch.localsearch.move.tsp_array_swap.TspArraySwap.get_random_move">
<code class="descname">get_random_move</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#locsearch.localsearch.move.tsp_array_swap.TspArraySwap.get_random_move" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to generate one random move.</p>
<p>Note that the swaps with the first position aren’t included. When
solving TSP problems, the start position doesn’t matter, after all.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random valid move.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple of int</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-locsearch.localsearch.move">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-locsearch.localsearch.move" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">locsearch</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">locsearch</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="locsearch.html">locsearch package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="locsearch.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="locsearch.aidfunc.html">locsearch.aidfunc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="locsearch.evaluation.html">locsearch.evaluation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="locsearch.io.html">locsearch.io package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="locsearch.localsearch.html">locsearch.localsearch package</a><ul class="current">
<li class="toctree-l5 current"><a class="reference internal" href="locsearch.localsearch.html#subpackages">Subpackages</a></li>
<li class="toctree-l5"><a class="reference internal" href="locsearch.localsearch.html#submodules">Submodules</a></li>
<li class="toctree-l5"><a class="reference internal" href="locsearch.localsearch.html#module-locsearch.localsearch.abstract_local_search">locsearch.localsearch.abstract_local_search module</a></li>
<li class="toctree-l5"><a class="reference internal" href="locsearch.localsearch.html#module-locsearch.localsearch">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="locsearch.random.html">locsearch.random package</a></li>
<li class="toctree-l4"><a class="reference internal" href="locsearch.runner.html">locsearch.runner package</a></li>
<li class="toctree-l4"><a class="reference internal" href="locsearch.solution.html">locsearch.solution package</a></li>
<li class="toctree-l4"><a class="reference internal" href="locsearch.termination.html">locsearch.termination package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="locsearch.html#module-locsearch">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">locsearch</a><ul>
  <li><a href="locsearch.html">locsearch package</a><ul>
  <li><a href="locsearch.localsearch.html">locsearch.localsearch package</a><ul>
      <li>Previous: <a href="locsearch.localsearch.acceptance.html" title="previous chapter">locsearch.localsearch.acceptance package</a></li>
      <li>Next: <a href="locsearch.localsearch.simulatedannealing.html" title="next chapter">locsearch.localsearch.simulatedannealing package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Daan Thijs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/locsearch.localsearch.move.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>